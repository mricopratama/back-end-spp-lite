{
	"info": {
		"name": "SPP-Lite - New Features (Payments, Notifications, SPP Card)",
		"description": "API Collection untuk fitur-fitur baru: Payment Management, Notification System, dan Kartu SPP Digital",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "01. Payments",
			"item": [
				{
					"name": "Record Payment (Admin)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"invoice_id\": 1,\n    \"amount\": 500000,\n    \"payment_date\": \"2025-12-19\",\n    \"payment_method\": \"CASH\",\n    \"notes\": \"Pembayaran SPP Desember 2025\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/payments",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"payments"
							]
						},
						"description": "Catat pembayaran baru (Admin only). Auto-generate receipt number dan update invoice status."
					}
				},
				{
					"name": "List All Payments",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/payments?payment_method=CASH&per_page=15",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"payments"
							],
							"query": [
								{
									"key": "payment_method",
									"value": "CASH",
									"description": "Filter by CASH or TRANSFER"
								},
								{
									"key": "date_from",
									"value": "2025-12-01",
									"disabled": true
								},
								{
									"key": "date_to",
									"value": "2025-12-31",
									"disabled": true
								},
								{
									"key": "student_id",
									"value": "1",
									"disabled": true
								},
								{
									"key": "search",
									"value": "Ahmad",
									"disabled": true
								},
								{
									"key": "per_page",
									"value": "15"
								}
							]
						}
					}
				},
				{
					"name": "Get Payment Detail",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/payments/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"payments",
								"1"
							]
						}
					}
				},
				{
					"name": "Payment History by Student",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/payments/student/1?academic_year_id=1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"payments",
								"student",
								"1"
							],
							"query": [
								{
									"key": "academic_year_id",
									"value": "1"
								},
								{
									"key": "date_from",
									"value": "2025-01-01",
									"disabled": true
								},
								{
									"key": "date_to",
									"value": "2025-12-31",
									"disabled": true
								}
							]
						}
					}
				},
				{
					"name": "My Payment History (Wali Murid)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{student_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/payments/my",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"payments",
								"my"
							]
						}
					}
				}
			]
		},
		{
			"name": "02. SPP Card (Kartu SPP Digital)",
			"item": [
				{
					"name": "Get SPP Card (Admin)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/students/1/spp-card?academic_year_id=1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"students",
								"1",
								"spp-card"
							],
							"query": [
								{
									"key": "academic_year_id",
									"value": "1",
									"description": "Optional - default to active academic year"
								}
							]
						},
						"description": "Get kartu SPP digital dengan status pembayaran bulanan (green/yellow/red indicator)"
					}
				},
				{
					"name": "My SPP Card (Wali Murid)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{student_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/students/my/spp-card?academic_year_id=1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"students",
								"my",
								"spp-card"
							],
							"query": [
								{
									"key": "academic_year_id",
									"value": "1"
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "03. Notifications",
			"item": [
				{
					"name": "List Notifications",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{student_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/notifications?is_read=false&per_page=15",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"notifications"
							],
							"query": [
								{
									"key": "type",
									"value": "PAYMENT_SUCCESS",
									"disabled": true,
									"description": "PAYMENT_SUCCESS, PAYMENT_REMINDER, INVOICE_CREATED, GENERAL"
								},
								{
									"key": "is_read",
									"value": "false"
								},
								{
									"key": "per_page",
									"value": "15"
								}
							]
						}
					}
				},
				{
					"name": "Get Unread Count",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{student_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/notifications/unread-count",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"notifications",
								"unread-count"
							]
						}
					}
				},
				{
					"name": "Mark as Read",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{student_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/notifications/1/read",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"notifications",
								"1",
								"read"
							]
						}
					}
				},
				{
					"name": "Mark All as Read",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{student_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/notifications/read-all",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"notifications",
								"read-all"
							]
						}
					}
				},
				{
					"name": "Delete Notification",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{student_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/notifications/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"notifications",
								"1"
							]
						}
					}
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "default"
		},
		{
			"key": "admin_token",
			"value": "your_admin_token_here",
			"type": "default"
		},
		{
			"key": "student_token",
			"value": "your_student_token_here",
			"type": "default"
		}
	]
}
